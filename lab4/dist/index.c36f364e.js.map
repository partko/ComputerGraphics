{"mappings":"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","sources":["index.js"],"sourcesContent":["var gl;\n\nconst cubeFS =\n    [\n        '#version 300 es',\n        '#ifdef GL_ES',\n        'precision highp float;',\n        '#endif',\n        'uniform vec4 fColor;',\n        'out vec4 fragColor;',\n        'void main(void) {',\n        '    fragColor = fColor;',\n        '}',\n    ].join('\\n');\n\nconst cubeVS =\n    [\n        '#version 300 es',\n        'in vec3 aVertexPosition;',\n        'uniform mat4 mWorld;',\n        'uniform mat4 mView;',\n        'uniform mat4 mProj;',\n        'out vec3 vPosition;',\n        'void main() {',\n        '    gl_Position = mProj * mView * mWorld * vec4(aVertexPosition, 1.0);',\n        '    vPosition = aVertexPosition;',\n        '}',\n    ].join('\\n');\n\nlet corners = {\n    current_cube: \"1\",\n    cube1: 0.0,\n    cube2: 0.0,\n    cube3: 0.0,\n    cube4: 0.0,\n    pedestal: 0.0,\n    scene: 0.0,\n    cubes: 0.0,\n}\n\nfunction initWebGL(canvas) {\n    gl = null;\n    try {\n        gl = canvas.getContext(\"webgl2\") || canvas.getContext(\"webgl\") || canvas.getContext(\"experimentalwebgl\");\n    } catch(e) {}\n    if (!gl) {\n        alert(\"Unable to initialize WebGL. Your browser may not support it.\");\n        gl = null;\n    }\n    return gl;\n}\n\nfunction initShaderProgram(gl, vsSource, fsSource) {\n    const vertexShader = loadShader(gl, gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fsSource);\n    const shaderProgram = gl.createProgram();\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n        alert('Unable to initialize the shader program: ' + gl.getProgramInfoLog(shaderProgram));\n        return null;\n    }\n    return shaderProgram;\n}\n\nfunction loadShader(gl, type, source) {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        alert('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader));\n        gl.deleteShader(shader);\n        return null;\n    }\n    return shader;\n}\n\nfunction main() {\n    var canvas = document.getElementById('cubes');\n    if (!canvas) {\n        console.log('failed to find canvas');\n        return;\n    }\n    \n    gl = initWebGL(canvas);\n\n    if (gl) {\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        gl.enable(gl.DEPTH_TEST);\n        gl.depthFunc(gl.LEQUAL);\n        gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);\n    }\n    \n    const shaderProgram = initShaderProgram(gl, cubeVS, cubeFS);\n    gl.useProgram(shaderProgram);\n    window.addEventListener(\"keydown\", checkKeyPressed);\n\n    function render() {\n        if(shaderProgram) {\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n            gl.clearDepth(1.0);\n\n            drawCube(shaderProgram, [0.79, 0.79, 0.79, 1.0], corners.cube1,\n                corners.pedestal, corners.scene, corners.cubes, [-8.0, 0.0, 0.0], 1.4);\n            drawCube(shaderProgram, [1.0, 0.2, 0.0, 1.0], corners.cube2,\n                corners.pedestal, corners.scene, corners.cubes, [-2.0, 0.0, 0.0], 2.4);\n            drawCube(shaderProgram, [1.0, 0.84, 0.0, 1.0], corners.cube3,\n                corners.pedestal, corners.scene, corners.cubes, [4.0, 0.0, 0.0], 1.8);\n            drawCube(shaderProgram, [0.8, 0.5, 0.2, 1.0], corners.cube4,\n                corners.pedestal, corners.scene, corners.cubes, [8.0, 0.0, 0.0], 1);\n        }\n        requestAnimationFrame(render);\n    }\n    requestAnimationFrame(render);\n}\n\nfunction checkKeyPressed(e) {\n    if (e.keyCode == \"49\") { corners.current_cube = \"1\"; }\n    if (e.keyCode == \"50\") { corners.current_cube = \"2\"; }\n    if (e.keyCode == \"51\") { corners.current_cube = \"3\"; }\n    if (e.keyCode == \"52\") { corners.current_cube = \"4\"; }\n    if (e.keyCode == \"53\") { corners.current_cube = \"p\"; }\n    if (e.keyCode == \"54\") { corners.current_cube = \"s\"; }\n    if (e.keyCode == \"55\") { corners.current_cube = \"c\"; }\n\n    if (e.keyCode == \"37\") {\n        switch (corners.current_cube) {\n            case \"1\": corners.cube1 -= 0.04; break;\n            case \"2\": corners.cube2 -= 0.04; break;\n            case \"3\": corners.cube3 -= 0.04; break;\n            case \"4\": corners.cube4 -= 0.04; break;\n            case \"p\": corners.pedestal -= 0.04; break;\n            case \"s\": corners.scene -= 0.04; break;\n            case \"c\": corners.cubes -= 0.04; break;\n        }\n    }\n\n    if (e.keyCode == \"39\") {\n        switch (corners.current_cube) {\n            case \"1\": corners.cube1 += 0.04; break;\n            case \"2\": corners.cube2 += 0.04; break;\n            case \"3\": corners.cube3 += 0.04; break;\n            case \"4\": corners.cube4 += 0.04; break;\n            case \"p\": corners.pedestal += 0.04; break;\n            case \"s\": corners.scene += 0.04; break;\n            case \"c\": corners.cubes += 0.04; break;\n        }\n    }\n}\n\nfunction drawCube(shaderProgram, color, rotateCube, rotatePedestal, rotateScene, rotateAll, pos, size) {\n    const vertices = [\n        -1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, 1.0, 1.0, // Front\n        -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0, -1.0, -1.0, // Back\n        -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -1.0, // Top\n        -1.0, -1.0, -1.0, 1.0, -1.0, -1.0, 1.0, -1.0, 1.0, -1.0, -1.0, 1.0, // Bottom\n        1.0, -1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, 1.0, // Right\n        -1.0, -1.0, -1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0, -1.0, // Left\n    ];\n\n    for (i = 0; i < vertices.length; ++i) {\n        vertices[i] = vertices[i] * size;\n    }\n    pos = [pos[0], pos[1] + size , pos[2]];\n\n    let cubeVerticesBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, cubeVerticesBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n\n    const vertexPositionAttribute = gl.getAttribLocation(shaderProgram, \"aVertexPosition\");\n    const mProj = gl.getUniformLocation(shaderProgram, \"mProj\");\n    const mView = gl.getUniformLocation(shaderProgram, \"mView\");\n    const mWorld = gl.getUniformLocation(shaderProgram, \"mWorld\");\n    const fColor = gl.getUniformLocation(shaderProgram, \"fColor\");\n\n    gl.vertexAttribPointer(vertexPositionAttribute, 3, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(vertexPositionAttribute);\n\n    const fieldOfView = (45 * Math.PI) / 180; // in radians\n    const aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\n    const zNear = 0.1;\n    const zFar = 100.0;\n\n    const projectionMatrix = glMatrix.mat4.create();\n    const viewMatrix = glMatrix.mat4.create();\n    const worldMatrix = glMatrix.mat4.create();\n\n    glMatrix.mat4.perspective(projectionMatrix, fieldOfView, aspect, zNear, zFar);\n\n\n    glMatrix.mat4.translate(worldMatrix, worldMatrix, [0.0, -4.0, -30]); //отдаляем кубы чтобы их было видно\n\n    glMatrix.mat4.rotate(worldMatrix, worldMatrix, rotateScene, [0, 1, 0]);\n    glMatrix.mat4.translate(worldMatrix, worldMatrix, [12.0, 0.0, 0.0]);\n    glMatrix.mat4.rotate(worldMatrix, worldMatrix, rotatePedestal, [0, 1, 0]);\n    glMatrix.mat4.translate(worldMatrix, worldMatrix, pos); //перемещяем куб на свою позицию\n    glMatrix.mat4.rotate(worldMatrix, worldMatrix, rotateCube, [0, 1, 0]);\n    glMatrix.mat4.rotate(worldMatrix, worldMatrix, rotateAll, [0, 1, 0]);\n\n\n\n\n\n\n\n\n    // glMatrix.mat4.translate(worldMatrix, worldMatrix, [0.0, -4.0, -30]);\n    //\n    // glMatrix.mat4.rotate(worldMatrix, worldMatrix, rotateScene, [0, 1, 0]);\n    // glMatrix.mat4.translate(worldMatrix, worldMatrix, [12.0, 0.0, 0.0]);\n    // glMatrix.mat4.rotate(worldMatrix, worldMatrix, rotatePedestal, [0, 1, 0]);\n    // glMatrix.mat4.translate(worldMatrix, worldMatrix, pos);\n    // glMatrix.mat4.rotate(worldMatrix, worldMatrix, rotateCube, [0, 1, 0]);\n    // glMatrix.mat4.rotate(worldMatrix, worldMatrix, rotateAll, [0, 1, 0]);\n    \n    gl.uniform4f(fColor, color[0], color[1], color[2], color[3]);\n    gl.uniformMatrix4fv(mProj, false, projectionMatrix);\n    gl.uniformMatrix4fv(mView, false, viewMatrix);\n    gl.uniformMatrix4fv(mWorld, false, worldMatrix);\n    \n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 36);\n}\n"],"names":[],"version":3,"file":"index.c36f364e.js.map","sourceRoot":"/__parcel_source_root/"}